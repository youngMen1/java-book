# 第24课：Zabbix 自动发现和自动注册

这个课时我们来学习 Zabbix 自动发现和自动注册。

## Zabbix 及其优势介绍
你应该对 Zabbix 这个主流开源企业级监控系统并不陌生，它的官方网站是 https://www.zabbix.com/。Zabbix 具备如下几点特性：

1.你应该对 Zabbix 这个主流开源企业级监控系统并不陌生，它的官方网站是 https://www.zabbix.com/。Zabbix 具备如下几点特性：

2.功能丰富，具有图形化的界面展示，支持网络拓扑图示，同时也支持自定义面板。它还具备一套 CMDB功能（资产管理系统，可以对所有主机及硬件资产信息进行管理），支持数据聚合的分析方式。
服务高可用性，Zabbix 支持 proxy 代理模式，所有的 客户端 节点汇报到 proxy 的代理中间节点，再统一上报到 server 节点，这样减少 zabbix_server 节点的压力。另外 zabbix_server 支持 ha 切换来作保证服务的高可用。

3.丰富的数据采集模式，Zabbix 有自己的 agent 用于数据采集，也支持一些公共的协议方式，如：SNMP、JMX 等。采集模式支持主动和被动模式（主动模式是指服务端能够主动向客户端抓取数据，被动模式是指客户端能向服务端上报数据）。它能够支持用户自定义方式编写插件（监控脚本、主机监控模版、主机组模版等）。Zabbix 提供一套完整的 API，可以方便地集成到企业内部 DevOps 或者是运维管理系统中。

除此之外，对于规模庞大的主机监控信息管理十分自动化，Zabbix 支持自动发现和自动注册功能，本课时我们会来具体讲解：

自动发现是指在服务端能够自动发现客户端的主机信息。这种机制我们在前面的课时 10 里有详细讲解过（通过 Django Python 开发一套自动发现资产信息的 CMDB 系统）。

Zabbix 的自动发现其实就是自动发现并自动添加监控客户端的主机及相关信息。它通过服务端来发起扫描，扫描局域内部的网络设备、服务器、主机等设备，收集这些设备的信息，添加设备固定的模板中，从发现->添加->配置->监控全面自动化实现，这就是自动发现的第 1 种模式。

第 2 个模式，Zabbix_agent 主动注册，当 Zabbix_agent 启动 agent 以后，会主动上报自己的主机信息给服务端，这样就可以实现主动上报并在服务端注册相关信息。