# 第06讲：Shell 编程核心技术（下）

在本课时我们来具体编写一个 Shell 脚本，并掌握编写 Shell 脚本的必备知识。

 

想要编写一个 Shell 脚本，首先需要掌握的是注释，注释以 # 开头，用于增加脚本可读性；其次是参数，我们需要给脚本传入参数并解析它；最后是函数封装，以及掌握脚本是如何执行和调试的。

## 注释

          
CgotOV3mHmOAVwNqAAB4Dtu9NTs336.png


首先看下注释，我们使用 vim 创建一个文件，当然你也可以使用 vs code 等其他编辑器，vs code 可以支持语法高亮，也是非常不错的，输入 vim /tmp/1.sh 指令创建了 1.sh 文件。 

CgotOV3mHnGAcmsMAAB09eOs0V8120.png

接下来开始编写脚本，输入注释 # this is a demo script 用来告诉大家这个脚本是干什么的，当然注释不是必需的，只是为了增加可读性，同时 Shell 也不会执行注释语句。

## 参数     

而一旦脚本开始执行，就需要我们掌握系统默认的参数解析规则。当传递一个参数给脚本时，它是怎样被解析的呢？

* $0 表示被执行的程序，也就是当前脚本；

* $1、$2 分别表示传递的第 1 个和第 2 个参数，Shell 默认只支持 9 个参数，如果你需要支持更多的参数可以使用 shift；

* $@、$* 表示所有的参数，但不包含 $0；

* ${#*}、${#@} 表示参数的个数；

* ${*:1:3}、${*:$#} 表示多个参数。

接下来我们编写一个脚本。     

CgoB5l3mHnyAa4b9AACcvwS38OE594.png

并打印 p0=$0、p1=$1 p2=$2，以及 $@ 和 $*。

CgoB5l3mHoWAaTN7AAHqWUW2NTU287.png

然后开始执行脚本，执行脚本的第一种方法是使用 bash /tmp/1.sh，在执行结果中 $0 是当前的文件名，但此时参数没有值。

CgotOV3mHo2ARK47AAHLXCyvNz8110.png